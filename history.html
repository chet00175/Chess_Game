<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Chess Game</title>
		<link rel="Stylesheet" href="css/style.css" />
		<script type = "text/javascript" src="js/board_functionality.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	</head>
	<body>
		<div id="interface">
			<div id="list">
				<ul></ul>
			</div>
			<div id="board"></div>
		</div>
		<div id ="buttons">
			<button type='button' id='left'>Left</button>
			<button type='button' id='right'>Right</button>
		</div>
		<script type="text/javascript">
			$.ajax({
				type: "POST",
				url: "number_games.php",
				async: false,
				success: function(data) {
					count = data; // store total number of games played in 'count' variable
				}
			});

			for (var i = 0; i < count; i++) {
				var li = $('<li></li>');
				li.html('Game ' + i);
				li.attr('id','game' + i);

				$.ajax({
					type: "POST",
					url: "get_array.php",
					data : {n : i},
					async: false,
					success: function(data) {
						array = JSON.parse(data);
						$(li).data('table', array);
					}
				});

				li.click(function(){
					current_table = li.data('table');
				});

				li.appendTo('#list');
			}
		</script>
	</body>
</html>	